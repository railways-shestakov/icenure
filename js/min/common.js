function onWindowClick(e){let target=e.target;for(let key in handlers)if(target.closest("."+key)){handlers[key](target.closest("."+key),e);break}}window.addEventListener("scroll",onWindowScroll),window.addEventListener("scroll",showVisible),window.addEventListener("DOMContentLoaded",onDomReady),window.addEventListener("mousedown",onWindowClick),String.prototype.found=function(){for(let i=0,l=arguments.length;i<l;i++)if(-1!==this.indexOf(arguments[i]))return 1;return 0};const initBestStudents=()=>{const lists=document.querySelectorAll(".certificates-list:not(.slick-initialized)"),links=document.querySelectorAll(".author-certificates");lists.forEach((slider=>{if(!slider.children.length)return;$(slider).slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1,lazyLoad:"progressive",draggable:!1,infinite:!1})}));const onLinkClick=function(){const listIndex=this.getAttribute("data-list"),list=this.parentNode.querySelectorAll(".certificates-list")?.[listIndex];if(!list)return;const $slider=$(list),$img=$(list.querySelector("img"));SlickGallery.showGallery($slider,$img)};links.forEach((link=>{link.addEventListener("click",onLinkClick)}))},animateNumbers=()=>{const numbers=document.querySelectorAll(".popup__number-digit");let interval;setTimeout((()=>{interval=setInterval((()=>{numbers.forEach((number=>{let start=+number.innerHTML;start!=+number.dataset.max&&(number.innerHTML=++start)}))}),60)}),600),setTimeout((()=>{clearInterval(interval)}),8e3)},initPopup=()=>{const popup=document.querySelector(".popup"),isShown="shown"===sessionStorage.getItem("popup"),popupClose=document.querySelector(".popup__close");isShown||-1!==window.location.href.indexOf("about/specialties/125-bachelor/")||-1!==window.location.href.indexOf("svitnia-prohrama-informatsijni-systemy-ta-tekhnolohii-kvalifikatsij")||-1!==window.location.href.indexOf("about/specialties/172-bachelor-2")||popup.classList.add("popup--visible"),document.hidden?window.onfocus=()=>{animateNumbers(),window.onfocus=null}:animateNumbers(),popupClose.addEventListener("click",(()=>{popup.classList.remove("popup--visible"),sessionStorage.setItem("popup","shown")}))};function onDomReady(){let URL=window.location.pathname.substr(1);try{URL.found("news/")&&_get(".menu__item").classList.add("menu__item-active"),URL.found("teaching-staff")&&get("#menu-menu-ua > .menu__item")[2].classList.add("menu__item-active")}catch(e){}search.init(),setSubmenuActiveIndex(),initBestStudents(),initPopup()}function setSubmenuActiveIndex(){let link=_get('.main__sidebar a[href*="'+window.location.pathname.substr(4).slice(0,-1)+'"]');link&&link.classList.add("active")}let search=(()=>{let _config={searchDelay:250},_displayResult=html=>{_get(".search__result").innerHTML=html},doSearch=()=>{(()=>{let inputValue=_get(".search input").value,newHref="/search/"+(inputValue?inputValue+"/":"");history.pushState({page:newHref},null,newHref)})(),clearTimeout(_config.timer),_get(".search__result .lds")||(_get(".search__result").innerHTML='<div class="lds"><div class="lds-ripple"><div></div><div></div></div></div>'),_config.timer=setTimeout((function(){(()=>{let data={value:_get(".search input").value};ajax.post("/wp-content/themes/nure/php/functions/getSearchResult.php","POST",data,_displayResult)})()}),_config.searchDelay)};return{query:doSearch,init:()=>{if(!window.location.pathname.substr(1).found("search"))return;let query=_get(".search input").value;_get(".search input").addEventListener("input",doSearch),(()=>{let input=_get(".search input"),inputLength=input.value.length;input.focus(),input.selectionStart=inputLength})(),query.length&&doSearch()}}})(),newDozeOfPosts=1,mobile=$("body").attr("data-mobile"),postsNumber=+mobile?4:10,offset=postsNumber,newsCategory=0,URL=window.location.pathname.substr(1);function onWindowScroll(){let ifMobile=+document.body.getAttribute("data-mobile"),scrollTop=window.pageYOffset||document.documentElement.scrollTop,scroll=_get(".scrollTop"),scrollHeight=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),block=$(".main__news")[0],yOffset=window.pageYOffset,window_height=window.innerHeight;if(block){if(yOffset+window_height>=scrollHeight-2*window_height&&newDozeOfPosts){newDozeOfPosts=0;let project_id=$("#project_id")[0]?$("#project_id").text():0,community_id=$("#community_id")[0]?$("#community_id").text():0;block.insertAdjacentHTML("afterEnd",'<div id="loader"><div class="lds-ripple"><div></div><div></div></div></div>'),$.ajax({type:"POST",url:"/wp-content/themes/nure/php/functions/getNews.php?_="+(new Date).getTime(),data:{offset:offset,mobile:mobile,postsNumber:postsNumber,category:newsCategory,project_id:project_id,community_id:community_id,isEnglish:-1!==window.location.pathname.indexOf("/en/")?1:0}}).done((function(html){$("#loader").remove();let div=document.createElement("div");if(div.innerHTML=html,newDozeOfPosts=""==html.trim()?0:1,newDozeOfPosts){if(ifMobile)$(".main__news")[0].insertAdjacentHTML("beforeEnd",html);else{let leftBlock=$(div).find(".news__block:nth-child(1)")[0],rightBlock=$(div).find(".news__block:nth-child(2)")[0],leftHTML=leftBlock.innerHTML,rightHTML=rightBlock.innerHTML;$(".news__block:nth-child(1)")[0].insertAdjacentHTML("beforeEnd",leftHTML),$(".news__block:nth-child(2)")[0].insertAdjacentHTML("beforeEnd",rightHTML)}offset+=postsNumber}}))}if(!ifMobile)if(scrollTop>=100&&!window.isMenuCollapsed){scroll.style.display="block",_get(".header__tools").style.display="none",_get(".header > .header__inner").style.display="none";let logo=_get(".header__logo");logo.parentNode.removeChild(logo);let menuInner=_get(".header__menu > .header__inner");menuInner.insertBefore(logo,menuInner.firstChild),_get(".header__menu").classList.add("header__inRow"),window.isMenuCollapsed=1}else if(scrollTop<100&&window.isMenuCollapsed){scroll.style.display="",_get(".header__tools").style.display="",_get(".header > .header__inner").style.display="";let logo=_get(".header__logo");logo.parentNode.removeChild(logo);let headerInner=_get(".header .header__left");headerInner.insertBefore(logo,headerInner.firstChild),_get(".header__menu").classList.remove("header__inRow"),window.isMenuCollapsed=0}}}URL.found("participation-in-conferences")&&(newsCategory=1),URL.found("international-cooperation")&&(newsCategory=2),URL.found("workshops-and-meetings")&&(newsCategory=3),URL.found("sport")&&(newsCategory=4),URL.found("development-of-educational-programs")&&(newsCategory=5),URL.found("monographs")&&(newsCategory=6),URL.found("educational-and-scientific-achievements")&&(newsCategory=7),URL.found("sports-and-artistic-achievements")&&(newsCategory=8),URL.found("achievements-of-the-department")&&(newsCategory=9),URL.found("about/international-cooperation")&&(newsCategory=10),null!=window.location.pathname.match(/international-cooperation\/.+\//gi)&&(newsCategory=11),URL.found("about-us")&&(newsCategory=12),URL.found("exchange-and-sub-diploma-programs")&&(newsCategory=13),URL.found("excursions-and-trips")&&(newsCategory=14),URL.found("meeting-with-graduates")&&(newsCategory=15),URL.found("/communities/")&&(newsCategory=16),URL.found("/emc-conferences/")&&(newsCategory=17),$.ajaxSetup({cache:!1});let animationInterval,menuAnimationTime=0,blocked=0;const handlers={"js-toggleMenu":()=>{if(menuAnimationTime)return;menuAnimationTime=800;let menu=_get(".header__menu");"block"==menu.style.display?(document.body.style.overflow="",menu.style.height="",menu.style.padding="0",setTimeout((()=>{menu.style.display=""}),menuAnimationTime)):(document.body.style.overflow="hidden",menu.style.display="block",menu.style.padding="",setTimeout((()=>{menu.style.height="calc(100% - 78px)"}),55),menu.scrollTop=0),setTimeout((()=>{menuAnimationTime=0}),menuAnimationTime)},"js-darkMode":()=>{let language="en"==document.documentElement.getAttribute("lang")?"en":"ua";document.body.classList.toggle("dark");let darkMode=document.body.classList.contains("dark"),lightTheme="ua"==language?"Світла тема":"Light theme",darkTheme="ua"==language?"Нічна тема":"Dark theme";_get(".darkMode").innerHTML=darkMode?lightTheme:darkTheme,setCookie("darkMode",darkMode,30);try{window.chart&&switch_theme(darkMode,window.chart),window.chart2&&switch_theme(darkMode,window.chart2)}catch(e){}},"js-scrollTop":()=>{window.scrollTo(0,0)},"js-switch-ua":()=>{let path=window.location.pathname.substr(4);window.location.assign("/ua/"+path)},"js-switch-en":()=>{let path=window.location.pathname.substr(4);window.location.assign("/en/"+path)},"js-show-statistics":(elem,e)=>{if(blocked)return;blocked=1,animationInterval=setTimeout((function(){blocked=0}),600),e.preventDefault();let container=_get(".section--statistics"),hiddenText=_get(".js-show-statistics span:first-child"),activeText=_get(".js-show-statistics span:last-child");if(container.style.overflow="hidden",container.classList.contains("active"))container.style.height="0px",container.addEventListener("transitionend",(function(){container.classList.remove("active"),hiddenText.classList.add("active"),activeText.classList.remove("active")}),{once:!0});else{container.classList.add("active"),container.style.height="auto";let height=container.clientHeight+"px";container.style.height="0px",setTimeout((function(){container.style.height=height,container.addEventListener("transitionend",(function(){container.style.overflow="visible",container.style.height="auto",setTimeout((function(){container.style.height=container.offsetHeight+"px"}),50)}),{once:!0})}),0),hiddenText.classList.remove("active"),activeText.classList.add("active")}},"js-collapse":function(elem,e){if("A"==e.target.tagName)return;let $elem=$(elem),$block=$elem.next();$block.slideToggle(400,"linear"),$elem.toggleClass("title--opened"),setTimeout((function(){showVisible();let $slider=$block.find(".slider--certificates:not(.slick-initialized)");$slider.length&&$slider.slick({slidesToShow:5,slidesToScroll:5,dots:!0,arrows:!1,lazyLoad:"progressive",adaptiveHeight:!0,speed:2e3,draggable:!1,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,dots:!1,speed:400,lazyLoad:"ondemand",draggable:!0}}]})}),450)},"js-click-year":function(target){document.querySelector(".years-block__item--active").classList.remove("years-block__item--active"),document.querySelector(".year-block--active").classList.remove("year-block--active");const year=target.getAttribute("data-year");document.querySelector(`.years-block__item[data-year="${year}"]`).classList.add("years-block__item--active"),document.querySelector(`.year-block[data-year="${year}"]`).classList.add("year-block--active")}};function switch_theme(darkMode,chart){if(chart){if(darkMode){window.Chart&&(window.Chart.defaults.global.defaultFontColor="#ffffff");let yAxes=chart.options.scales.yAxes,xAxes=chart.options.scales.xAxes;for(let key in yAxes)yAxes[key].gridLines.zeroLineColor="rgba(255,255,255,.25)",yAxes[key].gridLines.color="rgba(255,255,255,.1)";for(let key in xAxes)xAxes[key].gridLines.zeroLineColor="rgba(255,255,255,.25)",xAxes[key].gridLines.color="rgba(255,255,255,.1)"}else{window.Chart&&(window.Chart.defaults.global.defaultFontColor="#2F536D");let yAxes=chart.options.scales.yAxes,xAxes=chart.options.scales.xAxes;for(let key in yAxes)yAxes[key].gridLines.zeroLineColor="rgba(0,0,0,.25)",yAxes[key].gridLines.color="rgba(0,0,0,.1)";for(let key in xAxes)xAxes[key].gridLines.zeroLineColor="rgba(0,0,0,.25)",xAxes[key].gridLines.color="rgba(0,0,0,.1)"}chart.update()}}function get(selector,box){return(box=box||document).querySelectorAll(selector)}function _get(selector,box){return get(selector,box)[0]}function getCookie(name){let matches=document.cookie.match(new RegExp("(?:^|; )"+name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):void 0}function setCookie(cname,cvalue,exdays){let date=new Date,ms=24*exdays*60*60*1e3;date.setTime(date.getTime()+ms);let expires="expires="+date.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"}let visibleTimer,ajax={};ajax.post=(URL,method="GET",data=null,callback)=>{let request,dataString="";function requestOnReady(){let requestIsReady=4==request.readyState,requestIsOk=200==request.status;requestIsReady&&requestIsOk&&callback&&function(){let response=request.responseText;callback(response),setTimeout(showVisible,0)}()}!function(){if(null!=data)for(let key in data){let value=data[key];dataString+=key+"="+encodeURIComponent(value)+"&"}}(),function(){if(window.XMLHttpRequest)request=new XMLHttpRequest;else if(window.ActiveXObject){try{request=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{request=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}request.onload||window.XDomainRequest&&(request=new XDomainRequest)}(),request&&(request.onreadystatechange=requestOnReady,request.open(method,URL),request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),request.send(dataString))};let timeout=100;function showVisible(){function searchVisible(){for(let img of get("img")){let src=img.dataset.src;if(!src)continue;let shiftX=img.getAttribute("data-shift-x");shiftX&&(img.style.marginLeft=shiftX+"%"),isVisible(img)&&showImage(img,src)}}function showImage(img,src){img.src=src,img.dataset.src="",img.onload=()=>function(img){img.classList.contains("loader")&&img.classList.remove("loader")}(img)}function isVisible(elem){let coords=elem.getBoundingClientRect(),windowHeight=document.documentElement.clientHeight,topVisible=coords.top>0&&coords.top<windowHeight,bottomVisible=coords.bottom<windowHeight&&coords.bottom>0;return topVisible||bottomVisible}clearTimeout(visibleTimer),visibleTimer=setTimeout(searchVisible,timeout)}showVisible(),$(document).ready((()=>{$(document).on("click",'a[href^="#"]',(function(e){e.preventDefault();let $el=$(this),href=$el.attr("href").substr(1);$el=$('a[name="'+href+'"]');let scrollTop=$el.offset().top-$(".header")[0].offsetHeight-30;$("html, body").animate({scrollTop:scrollTop},500)})),$(".slider--main").slick({infinite:!1,slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,lazyLoad:"progressive",autoplay:!0,autoplaySpeed:5e3,adaptiveHeight:!0,speed:2e3,responsive:[{breakpoint:481,settings:{slidesToShow:2}}]}),$(".main .slider:not(.slider--main)").slick({infinite:!1,slidesToShow:3,slidesToScroll:3,dots:!0,arrows:!1,lazyLoad:"progressive",autoplay:!0,autoplaySpeed:5e3,speed:2e3,responsive:[{breakpoint:481,settings:{slidesToShow:2}}]}),$(".section .slider").slick({infinite:!1,slidesToShow:3,slidesToScroll:3,dots:!0,arrows:!1,lazyLoad:"progressive",autoplay:!0,autoplaySpeed:5e3,speed:2e3,responsive:[{breakpoint:481,settings:{slidesToShow:2}}]})}));